{% capture footer_contents %}
  &copy; Copyright {{ site.time | date: '%Y' }}
  {{ site.first_name }}
  {{ site.middle_name }}
  {{ site.last_name }}. {{ site.footer_text }}
  {% if site.impressum_path %}
    <a href="{{ site.url }}{{ site.baseurl }}{{ site.impressum_path }}">Impressum</a>.
  {% endif %}
  {% if site.last_updated %}
    Last updated: {{ 'now' | date: '%B %d, %Y' }}.
  {% endif %}
  <br>
  <div style="display:inline-block; border-radius:4px; overflow:hidden; margin-top:5px; box-shadow:0 1px 2px rgba(0,0,0,0.1);">
    <span style="background-color:#555; color:#fff; padding:3px 8px; font-family:sans-serif; font-size:12px;">Unique visitors since Feb. 2026:</span><span id="gc-count" style="background-color:#4c1; color:#fff; padding:3px 8px; font-family:sans-serif; font-weight:bold; font-size:12px;">...</span>
  </div>
  <script data-goatcounter="https://andypjt02.goatcounter.com/count"
          async src="//gc.zgo.at/count.js"></script>
  <script>
    fetch('https://andypjt02.goatcounter.com/counter//TOTAL.json')
      .then(function(r) { return r.json(); })
      .then(function(data) {
        var el = document.getElementById('gc-count');
        /* If data.count is '0', it will be set. "0" is string so truthy */
        if (el && data.count) el.textContent = data.count;
      })
      .catch(function() {});
  </script>
{% endcapture %}

{% if site.footer_fixed %}
  <footer class="fixed-bottom" role="contentinfo">
    <div class="container mt-0">
      {{ footer_contents }}
    </div>
  </footer>
{% else %}
  <footer class="sticky-bottom mt-5" role="contentinfo">
    {% if site.newsletter.enabled %}
      {% include newsletter.liquid %}
    {% endif %}

    <div class="container">
      {{ footer_contents }}
    </div>
  </footer>
{% endif %}
